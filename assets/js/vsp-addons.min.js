!function($,window,document,undefined){"use strict";$.VSP_ADDONS=$.VSP_ADDONS||{},$.VSP_ADDONS.pending_ajax_requets=[],$.VSP_ADDONS.addonsHTML="",$.VSP_ADDONS.is_ajax_ongoing=!1,$.VSP_ADDONS.blockUI=function(id){$("div#"+id).toggleClass("vsp-requested"),$("div#"+id).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},$.VSP_ADDONS.unblock=function(id){$("div#"+id).toggleClass("vsp-requested"),$("div#"+id).unblock()},$.VSP_ADDONS.kick_start_addon_ajax=function(){if($.VSP_ADDONS.is_ajax_ongoing=!0,void 0!==$.VSP_ADDONS.pending_ajax_requets[0]){var $elem=$.VSP_ADDONS.pending_ajax_requets[0],$PARENTDIV=$elem.attr("data-outline"),$type="activate",$path_id=($PARENTDIV=$("div#"+$PARENTDIV)).data("pathid");$elem.hasClass("vsp-deactive-addon")&&($type="deactivate"),$.ajax({url:ajaxurl,method:"POST",data:{hook_slug:vsp_addons_settings.hook_slug,addon_slug:$elem.attr("data-filename"),addon_action:$type,addon_pathid:$path_id,action:"vsp-addon-action"}}).done(function(response){var $AjaxDiv=$PARENTDIV.find(".vsp_addon_ajax_response");$AjaxDiv.removeClass("vsp_ajax_error"),$AjaxDiv.removeClass("vsp_ajax_success"),$AjaxDiv.hide(),!0===response.success?($PARENTDIV.toggleClass("addon-inactive"),$PARENTDIV.toggleClass("addon-active"),$.VSP_ADDONS.update_action_buttons(),$AjaxDiv.addClass("vsp_ajax_success")):$AjaxDiv.addClass("vsp_ajax_error"),$AjaxDiv.html(response.data.msg),$AjaxDiv.fadeIn("fast",function(){setTimeout(function(){$AjaxDiv.fadeOut("slow")},4e3)})}).always(function(){$.VSP_ADDONS.unblock($PARENTDIV.attr("id")),$.VSP_ADDONS.pending_ajax_requets.shift(),$.VSP_ADDONS.kick_start_addon_ajax()})}else $.VSP_ADDONS.is_ajax_ongoing=!1},$.VSP_ADDONS.handle_action_clicks=function(){var $ID=$(this).attr("data-outline");$("div#"+$ID).hasClass("vsp-requested")||($.VSP_ADDONS.pending_ajax_requets.push($(this)),!1===$.VSP_ADDONS.is_ajax_ongoing&&$.VSP_ADDONS.kick_start_addon_ajax(),$.VSP_ADDONS.blockUI($ID))},$.VSP_ADDONS.update_action_buttons=function(){$(".vsp-deactive-addon, .vsp-active-addon").hide(),$(".vsp-deactive-addon, .vsp-active-addon").attr("disabled","disabled"),$("div.addon-inactive .vsp-active-addon").show().removeAttr("disabled"),$("div.addon-active .vsp-deactive-addon").show().removeAttr("disabled"),$.VSP_ADDONS.addonsHTML=$(".vsp_addon_listing").clone()},$(document).ready(function(){$.VSP_ADDONS.update_action_buttons(),$("body").on("click","div.vsp_addon_listing button.vsp-active-addon, div.vsp_addon_listing button.vsp-deactive-addon",$.VSP_ADDONS.handle_action_clicks),$("ul.vsp-addons-category-listing").size()>0&&($(".vsp_settings_content").remove(),$("p.submit").remove(),$("ul.vsp-addons-category-listing li:first").addClass("current"),$("ul.vsp-addons-category-listing a").click(function(){var $elem=$(this),$cat=$elem.parent().attr("data-category");$("ul.vsp-addons-category-listing li").removeClass("current"),$elem.parent().addClass("current"),"all"==$cat?$(".vsp-single-addon").show():($(".vsp-single-addon").hide(),$(".addon-"+$cat).fadeIn())}),$("body").on("keyup",".wp-filter-search",function(){$.VSP_ADDONS.addonsHTML.clone()}))})}(jQuery,window,document);